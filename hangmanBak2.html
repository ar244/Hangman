<!DOCTYPE html>
<html>
<head>
	<title>Hangman</title>

	<link rel="stylesheet" type="text/css" href="hangman.css">

  	<!-- Added a link to Bootstrap-->
  	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">

  	<!-- JQuery -->
  <script src="https://code.jquery.com/jquery.js"></script>

</head>

<body>

	<!-- Overall Bootstrap Grid -->
  <div class="container">

    <!-- Jumbotron with Title -->
    <div class="jumbotron">
      <h1 class="text-center"><strong>Hangman</strong></h1>
		
	</div>
	
	<div class="row">
		<h2 class="text-center"><strong>Enter a letter to guess the word</strong></h2>
	</div>

	<div class="row">
		<h4 id="count" class="text-center"></h4>
	</div>

	<div class="row">
		<div id="underscores" class="text-center"></div>
	</div>
	
	<div class="row">
		<div class="text-center">
			<button id="reset" class="text-center">Reset Game</button>
		</div>
	</div>

	

	<script type="text/javascript">
		
		var word = ""; var wordArray = []; var ansArray = [];
		var wrongGuess = 10;

		var setupGame = function() {
			word = "attribute";
			wordArray = word.split("");
			ansArray = word.split("").map(function () {
										return "_";
			});
			wrongGuess = 10;

			document.getElementById("count").innerHTML = "You have "+ wrongGuess + " guesses left";
			document.getElementById("underscores").innerHTML = "";
			var str = "";
			for (var i=0; i<ansArray.length; i++) {
				str+= " " + ansArray[i] + " ";
			}
			document.getElementById("underscores").innerHTML = str;

			console.log(ansArray);
			console.log(wordArray);

		} // function setupGame

		var playGame = function () {
			document.onkeyup = function(event) {
			var letter = event.key;
			console.log(letter);

			var ind = word.indexOf(letter);
			console.log(ind);
			if (ind == -1) {
				wrongGuess--;
				document.getElementById("count").innerHTML = "You have "+ wrongGuess + " guesses left";
				console.log(letter +" not found")
			} else {
				while (ind > -1) {

					ansArray[ind] = letter;

					document.getElementById("underscores").innerHTML = "";
					var str = "";
					for (var i=0; i<ansArray.length; i++) {
						str+= " " + ansArray[i] + " ";
					}
					document.getElementById("underscores").innerHTML = str;
					
					ind = wordArray.indexOf(letter, ind+1);

				} // while (ind > -1)
			}
			if (wrongGuess == 0) {
				alert("You lose! The word is " + word);
			} else {
				if (ansArray.indexOf("_") == -1) {
					alert("You win!");
				}
			}
		
		} // onkeyup
	} // playGame

	document.getElementById('reset').onclick = function() {
		setupGame();
		playGame();
	}

	setupGame();
	playGame();


	</script>

</body>
</html>





